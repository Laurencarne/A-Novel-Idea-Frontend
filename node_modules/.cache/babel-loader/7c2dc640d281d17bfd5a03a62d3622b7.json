{"ast":null,"code":"var _jsxFileName = \"/home/lauren/Flatiron/4-Mod/A_Novel_Idea_Frontend/src/components/Home.js\";\nimport React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport BookBar from \"./BookBar\";\nimport Slider from \"./Slider\";\nconst BASEURL = \"https://www.googleapis.com/books/v1/volumes\";\n\nclass Home extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      redirect: false,\n      index: 0,\n      fictionBooks: [],\n      juvenileFiction: [],\n      education: []\n    };\n\n    this.fetchFilteredBooksForBookbarFromServer = genre => {\n      return fetch(BASEURL + \"?q=%22%22+subject:\\\"\".concat(genre, \"\\\"&printType=books&orderBy=newest&maxResults=40&langRestrict=en\")).then(resp => resp.json());\n    };\n\n    this.addVerifiedBooksToState = (data, category) => {\n      return data => data.items.map(book => {\n        if (book.saleInfo.listPrice && book.volumeInfo.title && book.volumeInfo.authors && book.volumeInfo.publisher && book.volumeInfo.publishedDate && book.volumeInfo.description && book.volumeInfo.imageLinks && book.searchInfo && book.searchInfo.textSnippet) {\n          if (category === \"Fiction\") {\n            this.setFictionBooksState(book);\n          } else if (category === \"Juvenile Fiction\") {\n            this.setJuvenileFictionBooksState(book);\n          } else if (category === \"Education\") {\n            this.setEducationBooksState(book);\n          }\n        }\n      });\n    };\n\n    this.setFictionBooksState = book => {\n      this.setState({\n        fictionBooks: [...this.state.fictionBooks, book]\n      });\n    };\n\n    this.setJuvenileFictionBooksState = book => {\n      this.setState({\n        juvenileFiction: [...this.state.juvenileFiction, book]\n      });\n    };\n\n    this.setEducationBooksState = book => {\n      this.setState({\n        education: [...this.state.education, book]\n      });\n    };\n\n    this.handleSliderClick = () => {\n      this.setState({\n        redirect: !this.state.redirect\n      });\n    };\n\n    this.renderRedirect = () => {\n      if (this.state.redirect) {\n        return React.createElement(Redirect, {\n          to: \"/books\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        });\n      }\n    };\n\n    this.nextBooks = (booksState, category) => {\n      if (category === \"Fiction\") {\n        let index = this.state.fictionIndex;\n\n        if (index === booksState.length - 6) {\n          this.setState({\n            index: 0\n          });\n        } else {\n          this.setState({\n            index: index + 6\n          });\n        }\n      }\n    };\n\n    this.prevBooks = booksState => {\n      if (this.state.index === 0) {\n        this.setState({\n          index: booksState.length - 6\n        });\n      } else if (this.state.index <= 6) {\n        this.setState({\n          index: 0\n        });\n      } else {\n        this.setState({\n          index: this.state.index - 6\n        });\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.fetchFilteredBooksForBookbarFromServer(\"Fiction\").then(this.addVerifiedBooksToState(\"data\", \"Fiction\"));\n    this.fetchFilteredBooksForBookbarFromServer(\"Juvenile Fiction\").then(this.addVerifiedBooksToState(\"data\", \"Juvenile Fiction\"));\n    this.fetchFilteredBooksForBookbarFromServer(\"Education\").then(this.addVerifiedBooksToState(\"data\", \"Education\"));\n  }\n\n  //////////////////////////////\n  //RENDER\n  //////////////////////////////\n  render() {\n    let moreFictionBooks = this.state.fictionBooks.slice(this.state.fictionIndex, this.state.fictionIndex + 6);\n    let moreJuvenileBooks = this.state.juvenileFiction.slice(this.state.juvenileIndex, this.state.juvenileIndex + 6);\n    let moreEducationBooks = this.state.education.slice(this.state.educationIndex, this.state.educationIndex + 6);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(Slider, {\n      handleSliderClick: this.handleSliderClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }), React.createElement(BookBar, {\n      nextBooks: () => this.nextBooks(this.state.fictionBooks, \"Fiction\"),\n      prevBooks: () => this.prevBooks(this.state.fictionBooks, \"Fiction\"),\n      moreBooks: moreFictionBooks,\n      genre: \"Fiction\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }), React.createElement(BookBar, {\n      nextBooks: () => this.nextBooks(this.state.juvenileFiction),\n      prevBooks: () => this.prevBooks(this.state.juvenileFiction),\n      genre: \"Young Adult\",\n      moreBooks: moreJuvenileBooks,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }), React.createElement(BookBar, {\n      nextBooks: () => this.nextBooks(this.state.education),\n      prevBooks: () => this.prevBooks(this.state.education),\n      genre: \"Education\",\n      moreBooks: moreEducationBooks,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }), this.renderRedirect());\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["/home/lauren/Flatiron/4-Mod/A_Novel_Idea_Frontend/src/components/Home.js"],"names":["React","Component","Redirect","BookBar","Slider","BASEURL","Home","state","redirect","index","fictionBooks","juvenileFiction","education","fetchFilteredBooksForBookbarFromServer","genre","fetch","then","resp","json","addVerifiedBooksToState","data","category","items","map","book","saleInfo","listPrice","volumeInfo","title","authors","publisher","publishedDate","description","imageLinks","searchInfo","textSnippet","setFictionBooksState","setJuvenileFictionBooksState","setEducationBooksState","setState","handleSliderClick","renderRedirect","nextBooks","booksState","fictionIndex","length","prevBooks","componentDidMount","render","moreFictionBooks","slice","moreJuvenileBooks","juvenileIndex","moreEducationBooks","educationIndex"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport BookBar from \"./BookBar\";\nimport Slider from \"./Slider\";\n\nconst BASEURL = \"https://www.googleapis.com/books/v1/volumes\";\n\nclass Home extends Component {\n  state = {\n    redirect: false,\n    index: 0,\n    fictionBooks: [],\n    juvenileFiction: [],\n    education: []\n  };\n\n  componentDidMount() {\n    this.fetchFilteredBooksForBookbarFromServer(\"Fiction\").then(\n      this.addVerifiedBooksToState(\"data\", \"Fiction\")\n    );\n    this.fetchFilteredBooksForBookbarFromServer(\"Juvenile Fiction\").then(\n      this.addVerifiedBooksToState(\"data\", \"Juvenile Fiction\")\n    );\n    this.fetchFilteredBooksForBookbarFromServer(\"Education\").then(\n      this.addVerifiedBooksToState(\"data\", \"Education\")\n    );\n  }\n\n  fetchFilteredBooksForBookbarFromServer = genre => {\n    return fetch(\n      BASEURL +\n        `?q=%22%22+subject:\"${genre}\"&printType=books&orderBy=newest&maxResults=40&langRestrict=en`\n    ).then(resp => resp.json());\n  };\n\n  addVerifiedBooksToState = (data, category) => {\n    return data =>\n      data.items.map(book => {\n        if (\n          book.saleInfo.listPrice &&\n          book.volumeInfo.title &&\n          book.volumeInfo.authors &&\n          book.volumeInfo.publisher &&\n          book.volumeInfo.publishedDate &&\n          book.volumeInfo.description &&\n          book.volumeInfo.imageLinks &&\n          book.searchInfo &&\n          book.searchInfo.textSnippet\n        ) {\n          if (category === \"Fiction\") {\n            this.setFictionBooksState(book);\n          } else if (category === \"Juvenile Fiction\") {\n            this.setJuvenileFictionBooksState(book);\n          } else if (category === \"Education\") {\n            this.setEducationBooksState(book);\n          }\n        }\n      });\n  };\n\n  setFictionBooksState = book => {\n    this.setState({\n      fictionBooks: [...this.state.fictionBooks, book]\n    });\n  };\n\n  setJuvenileFictionBooksState = book => {\n    this.setState({\n      juvenileFiction: [...this.state.juvenileFiction, book]\n    });\n  };\n\n  setEducationBooksState = book => {\n    this.setState({\n      education: [...this.state.education, book]\n    });\n  };\n\n  //////////////////////////////\n  //SLIDER\n  //////////////////////////////\n  handleSliderClick = () => {\n    this.setState({\n      redirect: !this.state.redirect\n    });\n  };\n  renderRedirect = () => {\n    if (this.state.redirect) {\n      return <Redirect to=\"/books\" />;\n    }\n  };\n  //////////////////////////////\n  //BOOKBAR\n  //////////////////////////////\n  nextBooks = (booksState, category) => {\n    if (category === \"Fiction\") {\n      let index = this.state.fictionIndex;\n      if (index === booksState.length - 6) {\n        this.setState({\n          index: 0\n        });\n      } else {\n        this.setState({\n          index: index + 6\n        });\n      }\n    }\n  };\n\n  prevBooks = booksState => {\n    if (this.state.index === 0) {\n      this.setState({\n        index: booksState.length - 6\n      });\n    } else if (this.state.index <= 6) {\n      this.setState({\n        index: 0\n      });\n    } else {\n      this.setState({\n        index: this.state.index - 6\n      });\n    }\n  };\n  //////////////////////////////\n  //RENDER\n  //////////////////////////////\n  render() {\n    let moreFictionBooks = this.state.fictionBooks.slice(\n      this.state.fictionIndex,\n      this.state.fictionIndex + 6\n    );\n    let moreJuvenileBooks = this.state.juvenileFiction.slice(\n      this.state.juvenileIndex,\n      this.state.juvenileIndex + 6\n    );\n    let moreEducationBooks = this.state.education.slice(\n      this.state.educationIndex,\n      this.state.educationIndex + 6\n    );\n    return (\n      <div>\n        <Slider handleSliderClick={this.handleSliderClick} />\n        <BookBar\n          nextBooks={() => this.nextBooks(this.state.fictionBooks, \"Fiction\")}\n          prevBooks={() => this.prevBooks(this.state.fictionBooks, \"Fiction\")}\n          moreBooks={moreFictionBooks}\n          genre={\"Fiction\"}\n        />\n        <BookBar\n          nextBooks={() => this.nextBooks(this.state.juvenileFiction)}\n          prevBooks={() => this.prevBooks(this.state.juvenileFiction)}\n          genre={\"Young Adult\"}\n          moreBooks={moreJuvenileBooks}\n        />\n        <BookBar\n          nextBooks={() => this.nextBooks(this.state.education)}\n          prevBooks={() => this.prevBooks(this.state.education)}\n          genre={\"Education\"}\n          moreBooks={moreEducationBooks}\n        />\n        {this.renderRedirect()}\n      </div>\n    );\n  }\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}