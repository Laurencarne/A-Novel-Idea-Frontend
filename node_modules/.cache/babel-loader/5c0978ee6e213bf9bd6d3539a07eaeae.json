{"ast":null,"code":"var _jsxFileName = \"/home/lauren/Flatiron/4-Mod/A_Novel_Idea_Frontend/src/components/Home.js\";\nimport React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport BookBar from \"./BookBar\";\nimport Slider from \"./Slider\";\nconst BASEURL = \"https://www.googleapis.com/books/v1/volumes\";\n\nclass Home extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      redirect: false,\n      fictionIndex: 0,\n      juvenileIndex: 0,\n      educationIndex: 0,\n      fictionBooks: [],\n      juvenileFiction: [],\n      education: []\n    };\n\n    this.fetchFilteredBooksForBookbarFromServer = genre => {\n      return fetch(BASEURL + \"?q=%22%22+subject:\\\"\".concat(genre, \"\\\"&printType=books&orderBy=newest&maxResults=40&langRestrict=en\")).then(resp => resp.json());\n    };\n\n    this.addVerifiedBooksToState = (data, category) => {\n      return data => data.items.map(book => {\n        if (book.saleInfo.listPrice && book.volumeInfo.title && book.volumeInfo.authors && book.volumeInfo.publisher && book.volumeInfo.publishedDate && book.volumeInfo.description && book.volumeInfo.imageLinks && book.searchInfo && book.searchInfo.textSnippet) {\n          if (category === \"Fiction\") {\n            this.setFictionBooksState(book);\n          } else if (category === \"Juvenile Fiction\") {\n            this.setJuvenileFictionBooksState(book);\n          } else if (category === \"Education\") {\n            this.setEducationBooksState(book);\n          }\n        }\n      });\n    };\n\n    this.setFictionBooksState = book => {\n      this.setState({\n        fictionBooks: [...this.state.fictionBooks, book]\n      });\n    };\n\n    this.setJuvenileFictionBooksState = book => {\n      this.setState({\n        juvenileFiction: [...this.state.juvenileFiction, book]\n      });\n    };\n\n    this.setEducationBooksState = book => {\n      this.setState({\n        education: [...this.state.education, book]\n      });\n    };\n\n    this.handleSliderClick = () => {\n      this.setState({\n        redirect: !this.state.redirect\n      });\n    };\n\n    this.renderRedirect = () => {\n      if (this.state.redirect) {\n        return React.createElement(Redirect, {\n          to: \"/books\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        });\n      }\n    };\n\n    this.nextBooks = (booksState, category) => {\n      if (category === \"Fiction\") {\n        let index = this.state.fictionIndex;\n        this.showNextBooks(index, booksState, category);\n      } else if (category === \"Juvenile\") {\n        let index = this.state.juvenileIndex;\n      } else if (category === \"Education\") {\n        let index = this.state.educationIndex;\n      }\n    };\n\n    this.showNextBooks = (index, booksState, category) => {\n      if (index === booksState.length - 6) {\n        this.setState({\n          [category]: 0\n        });\n      } else {\n        this.setState({\n          [category]: index + 6\n        });\n      }\n    };\n\n    this.prevBooks = booksState => {\n      if (this.state.index === 0) {\n        this.setState({\n          index: booksState.length - 6\n        });\n      } else if (this.state.index <= 6) {\n        this.setState({\n          index: 0\n        });\n      } else {\n        this.setState({\n          index: this.state.index - 6\n        });\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.fetchFilteredBooksForBookbarFromServer(\"Fiction\").then(this.addVerifiedBooksToState(\"data\", \"Fiction\"));\n    this.fetchFilteredBooksForBookbarFromServer(\"Juvenile Fiction\").then(this.addVerifiedBooksToState(\"data\", \"Juvenile Fiction\"));\n    this.fetchFilteredBooksForBookbarFromServer(\"Education\").then(this.addVerifiedBooksToState(\"data\", \"Education\"));\n  }\n\n  //////////////////////////////\n  //RENDER\n  //////////////////////////////\n  render() {\n    let moreFictionBooks = this.state.fictionBooks.slice(this.state.fictionIndex, this.state.fictionIndex + 6);\n    let moreJuvenileBooks = this.state.juvenileFiction.slice(this.state.juvenileIndex, this.state.juvenileIndex + 6);\n    let moreEducationBooks = this.state.education.slice(this.state.educationIndex, this.state.educationIndex + 6);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(Slider, {\n      handleSliderClick: this.handleSliderClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }), React.createElement(BookBar, {\n      nextBooks: () => this.nextBooks(this.state.fictionBooks, \"Fiction\"),\n      prevBooks: () => this.prevBooks(this.state.fictionBooks, \"Fiction\"),\n      moreBooks: moreFictionBooks,\n      genre: \"Fiction\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }), React.createElement(BookBar, {\n      nextBooks: () => this.nextBooks(this.state.juvenileFiction),\n      prevBooks: () => this.prevBooks(this.state.juvenileFiction),\n      genre: \"Young Adult\",\n      moreBooks: moreJuvenileBooks,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }), React.createElement(BookBar, {\n      nextBooks: () => this.nextBooks(this.state.education),\n      prevBooks: () => this.prevBooks(this.state.education),\n      genre: \"Education\",\n      moreBooks: moreEducationBooks,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }), this.renderRedirect());\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["/home/lauren/Flatiron/4-Mod/A_Novel_Idea_Frontend/src/components/Home.js"],"names":["React","Component","Redirect","BookBar","Slider","BASEURL","Home","state","redirect","fictionIndex","juvenileIndex","educationIndex","fictionBooks","juvenileFiction","education","fetchFilteredBooksForBookbarFromServer","genre","fetch","then","resp","json","addVerifiedBooksToState","data","category","items","map","book","saleInfo","listPrice","volumeInfo","title","authors","publisher","publishedDate","description","imageLinks","searchInfo","textSnippet","setFictionBooksState","setJuvenileFictionBooksState","setEducationBooksState","setState","handleSliderClick","renderRedirect","nextBooks","booksState","index","showNextBooks","length","prevBooks","componentDidMount","render","moreFictionBooks","slice","moreJuvenileBooks","moreEducationBooks"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport BookBar from \"./BookBar\";\nimport Slider from \"./Slider\";\n\nconst BASEURL = \"https://www.googleapis.com/books/v1/volumes\";\n\nclass Home extends Component {\n  state = {\n    redirect: false,\n    fictionIndex: 0,\n    juvenileIndex: 0,\n    educationIndex: 0,\n    fictionBooks: [],\n    juvenileFiction: [],\n    education: []\n  };\n\n  componentDidMount() {\n    this.fetchFilteredBooksForBookbarFromServer(\"Fiction\").then(\n      this.addVerifiedBooksToState(\"data\", \"Fiction\")\n    );\n    this.fetchFilteredBooksForBookbarFromServer(\"Juvenile Fiction\").then(\n      this.addVerifiedBooksToState(\"data\", \"Juvenile Fiction\")\n    );\n    this.fetchFilteredBooksForBookbarFromServer(\"Education\").then(\n      this.addVerifiedBooksToState(\"data\", \"Education\")\n    );\n  }\n\n  fetchFilteredBooksForBookbarFromServer = genre => {\n    return fetch(\n      BASEURL +\n        `?q=%22%22+subject:\"${genre}\"&printType=books&orderBy=newest&maxResults=40&langRestrict=en`\n    ).then(resp => resp.json());\n  };\n\n  addVerifiedBooksToState = (data, category) => {\n    return data =>\n      data.items.map(book => {\n        if (\n          book.saleInfo.listPrice &&\n          book.volumeInfo.title &&\n          book.volumeInfo.authors &&\n          book.volumeInfo.publisher &&\n          book.volumeInfo.publishedDate &&\n          book.volumeInfo.description &&\n          book.volumeInfo.imageLinks &&\n          book.searchInfo &&\n          book.searchInfo.textSnippet\n        ) {\n          if (category === \"Fiction\") {\n            this.setFictionBooksState(book);\n          } else if (category === \"Juvenile Fiction\") {\n            this.setJuvenileFictionBooksState(book);\n          } else if (category === \"Education\") {\n            this.setEducationBooksState(book);\n          }\n        }\n      });\n  };\n\n  setFictionBooksState = book => {\n    this.setState({\n      fictionBooks: [...this.state.fictionBooks, book]\n    });\n  };\n\n  setJuvenileFictionBooksState = book => {\n    this.setState({\n      juvenileFiction: [...this.state.juvenileFiction, book]\n    });\n  };\n\n  setEducationBooksState = book => {\n    this.setState({\n      education: [...this.state.education, book]\n    });\n  };\n\n  //////////////////////////////\n  //SLIDER\n  //////////////////////////////\n  handleSliderClick = () => {\n    this.setState({\n      redirect: !this.state.redirect\n    });\n  };\n  renderRedirect = () => {\n    if (this.state.redirect) {\n      return <Redirect to=\"/books\" />;\n    }\n  };\n  //////////////////////////////\n  //BOOKBAR\n  //////////////////////////////\n  nextBooks = (booksState, category) => {\n    if (category === \"Fiction\") {\n      let index = this.state.fictionIndex;\n      this.showNextBooks(index, booksState, category);\n    } else if (category === \"Juvenile\") {\n      let index = this.state.juvenileIndex;\n    } else if (category === \"Education\") {\n      let index = this.state.educationIndex;\n    }\n  };\n\n  showNextBooks = (index, booksState, category) => {\n    if (index === booksState.length - 6) {\n      this.setState({\n        [category]: 0\n      });\n    } else {\n      this.setState({\n        [category]: index + 6\n      });\n    }\n  };\n\n  prevBooks = booksState => {\n    if (this.state.index === 0) {\n      this.setState({\n        index: booksState.length - 6\n      });\n    } else if (this.state.index <= 6) {\n      this.setState({\n        index: 0\n      });\n    } else {\n      this.setState({\n        index: this.state.index - 6\n      });\n    }\n  };\n  //////////////////////////////\n  //RENDER\n  //////////////////////////////\n  render() {\n    let moreFictionBooks = this.state.fictionBooks.slice(\n      this.state.fictionIndex,\n      this.state.fictionIndex + 6\n    );\n    let moreJuvenileBooks = this.state.juvenileFiction.slice(\n      this.state.juvenileIndex,\n      this.state.juvenileIndex + 6\n    );\n    let moreEducationBooks = this.state.education.slice(\n      this.state.educationIndex,\n      this.state.educationIndex + 6\n    );\n    return (\n      <div>\n        <Slider handleSliderClick={this.handleSliderClick} />\n        <BookBar\n          nextBooks={() => this.nextBooks(this.state.fictionBooks, \"Fiction\")}\n          prevBooks={() => this.prevBooks(this.state.fictionBooks, \"Fiction\")}\n          moreBooks={moreFictionBooks}\n          genre={\"Fiction\"}\n        />\n        <BookBar\n          nextBooks={() => this.nextBooks(this.state.juvenileFiction)}\n          prevBooks={() => this.prevBooks(this.state.juvenileFiction)}\n          genre={\"Young Adult\"}\n          moreBooks={moreJuvenileBooks}\n        />\n        <BookBar\n          nextBooks={() => this.nextBooks(this.state.education)}\n          prevBooks={() => this.prevBooks(this.state.education)}\n          genre={\"Education\"}\n          moreBooks={moreEducationBooks}\n        />\n        {this.renderRedirect()}\n      </div>\n    );\n  }\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}