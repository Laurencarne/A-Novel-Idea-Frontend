{"ast":null,"code":"var _jsxFileName = \"/home/lauren/Flatiron/4-Mod/A_Novel_Idea_Frontend/src/components/Home.js\";\nimport React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport BookBar from \"./BookBar\";\nimport Slider from \"./Slider\";\nconst BASEURL = \"https://www.googleapis.com/books/v1/volumes\";\n\nclass Home extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      redirect: false,\n      index: 0,\n      fictionBooks: [],\n      juvenileFiction: [],\n      education: []\n    };\n\n    this.fetchFilteredBooksForBookbarFromServer = genre => {\n      return fetch(BASEURL + \"?q=%22%22+subject:\\\"\".concat(genre, \"\\\"&printType=books&orderBy=newest&maxResults=40&langRestrict=en\")).then(resp => resp.json());\n    };\n\n    this.addVerifiedBooksToState = (data, category) => {\n      return data => data.items.map(book => {\n        if (book.saleInfo.listPrice && book.volumeInfo.title && book.volumeInfo.authors && book.volumeInfo.publisher && book.volumeInfo.publishedDate && book.volumeInfo.description && book.volumeInfo.imageLinks && book.searchInfo && book.searchInfo.textSnippet) {\n          if (category === \"Fiction\") {\n            this.setFictionBooksState(book);\n          } else if (category === \"Juvenile Fiction\") {\n            this.setJuvenileFictionBooksState(book);\n          } else if (category === \"Education\") {\n            this.setEducationBooksState(book);\n          }\n        }\n      });\n    };\n\n    this.setFictionBooksState = book => {\n      this.setState({\n        fictionBooks: [...this.state.fictionBooks, book]\n      });\n    };\n\n    this.setJuvenileFictionBooksState = book => {\n      this.setState({\n        juvenileFiction: [...this.state.juvenileFiction, book]\n      });\n    };\n\n    this.setEducationBooksState = book => {\n      this.setState({\n        education: [...this.state.education, book]\n      });\n    };\n\n    this.handleSliderClick = () => {\n      this.setState({\n        redirect: !this.state.redirect\n      });\n    };\n\n    this.renderRedirect = () => {\n      if (this.state.redirect) {\n        return React.createElement(Redirect, {\n          to: \"/books\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        });\n      }\n    };\n\n    this.nextFictionBooks = () => {\n      if (this.state.index >= this.state.fictionBooks.length - 8) {\n        this.setState({\n          index: 0\n        });\n      } else {\n        this.setState({\n          index: this.state.index + 4\n        });\n      }\n    };\n\n    this.prevFictionBooks = () => {\n      if (this.state.index === 0) {\n        this.setState({\n          index: this.state.fictionBooks.length - 4\n        });\n      } else if (this.state.index <= 8) {\n        this.setState({\n          index: 0\n        });\n      } else {\n        this.setState({\n          index: this.state.index - 4\n        });\n      }\n    };\n\n    this.nextFour = booksState => {\n      booksState.slice(this.state.index, this.state.index + 4);\n    };\n\n    this.prevFour = booksState => {\n      booksState.slice(this.state.index, this.state.index - 4);\n    };\n  }\n\n  componentDidMount() {\n    this.fetchFilteredBooksForBookbarFromServer(\"Fiction\").then(this.addVerifiedBooksToState(\"data\", \"Fiction\"));\n    this.fetchFilteredBooksForBookbarFromServer(\"Juvenile Fiction\").then(this.addVerifiedBooksToState(\"data\", \"Juvenile Fiction\"));\n    this.fetchFilteredBooksForBookbarFromServer(\"Education\").then(this.addVerifiedBooksToState(\"data\", \"Education\"));\n  }\n\n  //////////////////////////////\n  //RENDER\n  //////////////////////////////\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(Slider, {\n      handleSliderClick: this.handleSliderClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, \"Top Fiction Reads\"), React.createElement(BookBar, {\n      nextBooks: this.nextFictionBooks,\n      nextFour: () => this.nextFour(this.state.fictionBooks),\n      prevBooks: this.prevFictionBooks,\n      prevFour: () => this.prevFour(this.state.fictionBooks),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \"Top Young Adult Reads\"), React.createElement(BookBar, {\n      nextBooks: this.nextFictionBooks,\n      nextFour: () => this.nextFour(this.state.juvenileFiction),\n      prevBooks: this.prevFictionBooks,\n      prevFour: () => this.prevFour(this.state.juvenileFiction),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, \"Top Education\"), React.createElement(BookBar, {\n      nextBooks: this.nextFictionBooks,\n      nextFour: () => nextFour(this.state.education),\n      prevBooks: this.prevFictionBooks,\n      prevFour: () => prevFour(this.state.education),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }), this.renderRedirect());\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["/home/lauren/Flatiron/4-Mod/A_Novel_Idea_Frontend/src/components/Home.js"],"names":["React","Component","Redirect","BookBar","Slider","BASEURL","Home","state","redirect","index","fictionBooks","juvenileFiction","education","fetchFilteredBooksForBookbarFromServer","genre","fetch","then","resp","json","addVerifiedBooksToState","data","category","items","map","book","saleInfo","listPrice","volumeInfo","title","authors","publisher","publishedDate","description","imageLinks","searchInfo","textSnippet","setFictionBooksState","setJuvenileFictionBooksState","setEducationBooksState","setState","handleSliderClick","renderRedirect","nextFictionBooks","length","prevFictionBooks","nextFour","booksState","slice","prevFour","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport BookBar from \"./BookBar\";\nimport Slider from \"./Slider\";\n\nconst BASEURL = \"https://www.googleapis.com/books/v1/volumes\";\n\nclass Home extends Component {\n  state = {\n    redirect: false,\n    index: 0,\n    fictionBooks: [],\n    juvenileFiction: [],\n    education: []\n  };\n\n  componentDidMount() {\n    this.fetchFilteredBooksForBookbarFromServer(\"Fiction\").then(\n      this.addVerifiedBooksToState(\"data\", \"Fiction\")\n    );\n    this.fetchFilteredBooksForBookbarFromServer(\"Juvenile Fiction\").then(\n      this.addVerifiedBooksToState(\"data\", \"Juvenile Fiction\")\n    );\n    this.fetchFilteredBooksForBookbarFromServer(\"Education\").then(\n      this.addVerifiedBooksToState(\"data\", \"Education\")\n    );\n  }\n\n  fetchFilteredBooksForBookbarFromServer = genre => {\n    return fetch(\n      BASEURL +\n        `?q=%22%22+subject:\"${genre}\"&printType=books&orderBy=newest&maxResults=40&langRestrict=en`\n    ).then(resp => resp.json());\n  };\n\n  addVerifiedBooksToState = (data, category) => {\n    return data =>\n      data.items.map(book => {\n        if (\n          book.saleInfo.listPrice &&\n          book.volumeInfo.title &&\n          book.volumeInfo.authors &&\n          book.volumeInfo.publisher &&\n          book.volumeInfo.publishedDate &&\n          book.volumeInfo.description &&\n          book.volumeInfo.imageLinks &&\n          book.searchInfo &&\n          book.searchInfo.textSnippet\n        ) {\n          if (category === \"Fiction\") {\n            this.setFictionBooksState(book);\n          } else if (category === \"Juvenile Fiction\") {\n            this.setJuvenileFictionBooksState(book);\n          } else if (category === \"Education\") {\n            this.setEducationBooksState(book);\n          }\n        }\n      });\n  };\n\n  setFictionBooksState = book => {\n    this.setState({\n      fictionBooks: [...this.state.fictionBooks, book]\n    });\n  };\n\n  setJuvenileFictionBooksState = book => {\n    this.setState({\n      juvenileFiction: [...this.state.juvenileFiction, book]\n    });\n  };\n\n  setEducationBooksState = book => {\n    this.setState({\n      education: [...this.state.education, book]\n    });\n  };\n\n  //////////////////////////////\n  //SLIDER\n  //////////////////////////////\n  handleSliderClick = () => {\n    this.setState({\n      redirect: !this.state.redirect\n    });\n  };\n  renderRedirect = () => {\n    if (this.state.redirect) {\n      return <Redirect to=\"/books\" />;\n    }\n  };\n  //////////////////////////////\n  //BOOKBAR\n  //////////////////////////////\n  nextFictionBooks = () => {\n    if (this.state.index >= this.state.fictionBooks.length - 8) {\n      this.setState({\n        index: 0\n      });\n    } else {\n      this.setState({\n        index: this.state.index + 4\n      });\n    }\n  };\n  prevFictionBooks = () => {\n    if (this.state.index === 0) {\n      this.setState({\n        index: this.state.fictionBooks.length - 4\n      });\n    } else if (this.state.index <= 8) {\n      this.setState({\n        index: 0\n      });\n    } else {\n      this.setState({\n        index: this.state.index - 4\n      });\n    }\n  };\n\n  nextFour = booksState => {\n    booksState.slice(this.state.index, this.state.index + 4);\n  };\n  prevFour = booksState => {\n    booksState.slice(this.state.index, this.state.index - 4);\n  };\n\n  //////////////////////////////\n  //RENDER\n  //////////////////////////////\n  render() {\n    return (\n      <div>\n        <Slider handleSliderClick={this.handleSliderClick} />\n        <h3>Top Fiction Reads</h3>\n        <BookBar\n          nextBooks={this.nextFictionBooks}\n          nextFour={() => this.nextFour(this.state.fictionBooks)}\n          prevBooks={this.prevFictionBooks}\n          prevFour={() => this.prevFour(this.state.fictionBooks)}\n        />\n        <h3>Top Young Adult Reads</h3>\n        <BookBar\n          nextBooks={this.nextFictionBooks}\n          nextFour={() => this.nextFour(this.state.juvenileFiction)}\n          prevBooks={this.prevFictionBooks}\n          prevFour={() => this.prevFour(this.state.juvenileFiction)}\n        />\n        <h3>Top Education</h3>\n        <BookBar\n          nextBooks={this.nextFictionBooks}\n          nextFour={() => nextFour(this.state.education)}\n          prevBooks={this.prevFictionBooks}\n          prevFour={() => prevFour(this.state.education)}\n        />\n        {this.renderRedirect()}\n      </div>\n    );\n  }\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}